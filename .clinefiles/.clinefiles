# .clinefiles/.clinefiles

# 基本設定
version: 1.0
language: python
python_version: ">=3.8,<3.11"  # demucsとpyannote-audioの互換性を考慮

# コードスタイル
style:
  line_length: 88  # Black互換
  indentation: 4
  quotes: double
  docstrings: google  # Googleスタイルのdocstring
  imports:
    order: [standard, third_party, first_party]
    group_by_package: true
    alphabetize: true
  naming:
    classes: PascalCase
    functions: snake_case
    variables: snake_case
    constants: UPPER_SNAKE_CASE
  comments:
    min_statement_coverage: 0.7  # 70%以上のステートメントにコメント

# ファイル構造
structure:
  src_dir: src
  test_dir: tests
  data_dir: data
  docs_dir: docs
  required_files:
    - README.md
    - LICENSE
    - requirements.txt
    - setup.py
    - .gitignore
  
# テスト要件
testing:
  framework: pytest
  coverage:
    min_percent: 80
  required_test_types:
    - unit
    - integration
    - performance

# 依存関係管理
dependencies:
  package_manager: pip
  virtual_env: true
  pinned_versions: true
  security_check: true

# 音声処理特有のルール
audio_processing:
  max_file_size: 500MB  # 処理可能な最大ファイルサイズ
  supported_formats: [wav, mp3, flac, m4a, ogg]
  temp_files:
    cleanup: true
    max_age: 24h  # 一時ファイルの最大保持時間
  performance:
    batch_size: 32  # バッチ処理サイズ
    use_gpu: auto  # 可能ならGPUを使用
    memory_limit: 0.8  # 利用可能メモリの最大使用率

# ドキュメンテーション
documentation:
  api_docs: true
  user_guide: true
  examples: true
  changelog: true

# CI/CD
ci_cd:
  run_tests: true
  run_linters: true
  build_docs: true
